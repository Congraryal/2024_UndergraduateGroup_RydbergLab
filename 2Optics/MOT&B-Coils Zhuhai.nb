(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     79412,       1842]
NotebookOptionsPosition[     72561,       1723]
NotebookOutlinePosition[     73008,       1741]
CellTagsIndexPosition[     72965,       1738]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["MOT&B-Coils.nb - magnetic fields", "Title",
 CellChangeTimes->{{3.5666333841886673`*^9, 3.5666334269767246`*^9}, {
  3.5666345601408386`*^9, 
  3.566634560374804*^9}},ExpressionUUID->"6ff8707e-cc0b-46a7-8670-\
e8fc8fab5d1d"],

Cell["Date: 2013-01-08", "Text",
 CellChangeTimes->{{3.566633174226127*^9, 3.566633178094679*^9}, {
  3.5666334334503093`*^9, 3.566633438441989*^9}},
 FontSize->14,ExpressionUUID->"fdd49ba1-1128-4851-9bf8-2765e94ec0b1"],

Cell[TextData[{
 "This ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " notebook is written to calculate the magnetic field generated by a pair of \
coils in anti-Helmholtz configuration for MOT magnetic field gradient and \
quadrupole trap.  The notebook is modified based on a notebook  from John \
Thomas\[CloseCurlyQuote]s group at Duke. The notebook is written quite \
generically, and therefore can be easily adapted to different tasks.\n\nTo do \
the actual \[OpenCurlyDoubleQuote]Magnetic Field Calculations\
\[CloseCurlyDoubleQuote], you must evaluate the \
\[OpenCurlyDoubleQuote]Definitions\[CloseCurlyDoubleQuote] section first.  \
See the \[OpenCurlyDoubleQuote]Description\[CloseCurlyDoubleQuote] section \
for help and examples.\n\nCoordinate convention: z (axial), vertical, along \
gravity; r (radial), horizontal; "
}], "Text",
 CellChangeTimes->{{3.566633254389388*^9, 3.566633295430357*^9}, {
   3.566704561271927*^9, 3.5667046528642635`*^9}, {3.566710073213443*^9, 
   3.5667101290987077`*^9}, {3.566710162232382*^9, 3.5667102712005234`*^9}, {
   3.566710371229022*^9, 3.566710374641385*^9}, {3.566710570084568*^9, 
   3.566710607868057*^9}, {3.566710639004311*^9, 3.5667106419166946`*^9}, {
   3.5667106894172945`*^9, 3.566710831824098*^9}, 3.566711489388199*^9, {
   3.5667226982716165`*^9, 3.5667227152591453`*^9}},
 FontSize->13,ExpressionUUID->"e9b998d8-2184-4ed2-b15f-f672fb1a6f57"],

Cell["\<\
Notes: 
1. the same pair of coils is used to generate both MOT magnetic field \
gradient and quadruple magnetic trap. The magnetic field is switched from MOT \
configration to B-trap configration by ramping up the current;
2. since the Zeeman coil employs the decreasing field configuration, the \
radial magnetic field of MOT coils along the Zeeman tube axis is also served \
as a part of Zeeman slower to deccelate the atomic beam. There will be \
separate notebooks to calculate the Zeeman field;
3. the MOT/B-trap coils are made of square shaped wires with 1mm \[Times] 1mm \
square outside and with NZ0 layers along radial direction and NR0 layers \
along axis direction. Two relevant considerations in calculating the magnetic \
field are:
     b. however, the dimension of the coils is comparable to the distance \
mentioned above, the accuracy of  the magnetic field calculation is limited \
by simply counting the turns without considering the change of distance to \
the center from one turn to the next. Instead, the magnetic field is \
calculated by adding the field generated by each pair of loops (in \
anti-Helmholtz con
     figuration). Nevertheless, each loop is regarded as perfectly circular \
around z-axis without any spiral.  \
\>", "Text",
 CellChangeTimes->{{3.566633189559944*^9, 3.5666332144247503`*^9}, {
   3.566633378307844*^9, 3.5666333804605064`*^9}, {3.5666334658806305`*^9, 
   3.5666337354625483`*^9}, {3.566633852766621*^9, 3.5666339697903194`*^9}, {
   3.566634011814025*^9, 3.5666340542589045`*^9}, {3.5666341280743723`*^9, 
   3.5666342395136285`*^9}, {3.5666342875585485`*^9, 3.566634363198099*^9}, {
   3.566634460767892*^9, 3.566634497406889*^9}, {3.5666365865316095`*^9, 
   3.566636662919913*^9}, {3.5666366996867557`*^9, 3.5666368519797926`*^9}, {
   3.566636915498921*^9, 3.566636974931111*^9}, {3.5666370169080195`*^9, 
   3.566637314841137*^9}, {3.566704405523157*^9, 3.5667044114904184`*^9}, {
   3.5667045007068496`*^9, 3.5667045025717745`*^9}, {3.5667046591765113`*^9, 
   3.566704660336465*^9}, {3.566711593262141*^9, 3.566711619373597*^9}, 
   3.566727516180195*^9, {3.573344464212942*^9, 3.573344465772832*^9}, {
   3.5733445023366537`*^9, 3.573344570550643*^9}, {3.8888792803763027`*^9, 
   3.8888792867593007`*^9}, {3.888880625285391*^9, 3.8888806870252314`*^9}},
 FontSize->13,ExpressionUUID->"034a20bf-d02e-446d-8111-c96da3dff210"],

Cell[CellGroupData[{

Cell["Packages", "Subsubsection",
 CellChangeTimes->{{3.5667198996751213`*^9, 3.566719904526317*^9}},
 FontSize->13,ExpressionUUID->"fa14a400-6ed8-44a1-b9a1-88b225c750b1"],

Cell[BoxData[
 RowBox[{"<<", "NumericalCalculus`"}]], "Input",
 CellChangeTimes->{{3.566637390520612*^9, 3.5666374618927565`*^9}, {
  3.5666375389181757`*^9, 3.566637549040271*^9}, {3.5666381968503656`*^9, 
  3.5666382608938036`*^9}, {3.5667198801143517`*^9, 3.56671992237123*^9}},
 FontSize->13,
 CellLabel->"In[3]:=",ExpressionUUID->"92963443-f436-4d44-8c71-1fcfd746f8c7"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[StyleBox["Definitions",
 FontSize->16,
 FontColor->RGBColor[0, 0, 1]]], "Subsection",
 CellChangeTimes->{{3.566706660222966*^9, 3.566706664088813*^9}},
 FontSize->13,ExpressionUUID->"64893b88-57f6-4a98-b314-4b23c20d7589"],

Cell[CellGroupData[{

Cell["Universal Constants", "Subsubsection",
 CellChangeTimes->{{3.5733582759910793`*^9, 3.573358278128129*^9}},
 FontSize->13,ExpressionUUID->"d8f384d8-5ce1-442c-9beb-449b16c5aa44"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    SubscriptBox["\[Mu]", "0"], "=", " ", 
    RowBox[{"4", " ", "\[Pi]", " ", 
     SuperscriptBox["10", 
      RowBox[{"-", "3"}]]}]}], ";"}], "  ", 
  StyleBox[
   RowBox[{"(*", " ", 
    RowBox[{"exact", ",", 
     RowBox[{
      RowBox[{"give", " ", "B"}], "-", 
      RowBox[{"field", " ", "in", " ", "Gauss"}]}], ",", " ", 
     RowBox[{"CODATA", " ", "2006"}]}], " ", "*)"}],
   FontColor->RGBColor[1, 0, 0]]}]], "Input",
 CellChangeTimes->{{3.566637390520612*^9, 3.5666374618927565`*^9}, {
   3.5666375389181757`*^9, 3.566637549040271*^9}, {3.5666381968503656`*^9, 
   3.5666382608938036`*^9}, 3.5667198801143517`*^9, {3.573358224233929*^9, 
   3.573358229709143*^9}},
 FontSize->13,
 CellLabel->
  "In[201]:=",ExpressionUUID->"31ebf308-62be-4e1a-bbf8-5d225888bcbc"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Calculation Functions", "Subsubsection",
 FontSize->13,ExpressionUUID->"411e3c03-ed1b-4ad6-ad55-4d4635686e89"],

Cell["\<\
These functions calculate the radial and axial field for a single loop.\
\>", "Text",
 CellChangeTimes->{3.566709594586088*^9},
 FontSize->13,ExpressionUUID->"5bfa52bb-736f-4210-b1ae-1a419b8b8dc9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Bz", "[", 
   RowBox[{"r_", ",", "z_", ",", "loop_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"loop", "[", 
    RowBox[{"[", "3", "]"}], "]"}], " ", "*", 
   FractionBox[
    RowBox[{
     SubscriptBox["\[Mu]", "0"], "/", 
     RowBox[{"(", 
      RowBox[{"2", " ", "\[Pi]"}], ")"}]}], 
    SqrtBox[
     RowBox[{
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{
         RowBox[{"loop", "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", "+", " ", "r"}], ")"}], "2"], 
      "+", " ", 
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{"z", "-", 
         RowBox[{"loop", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}]]], " ", "*", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"EllipticK", "[", 
      FractionBox[
       RowBox[{"4", " ", 
        RowBox[{"loop", "[", 
         RowBox[{"[", "1", "]"}], "]"}], " ", "r"}], 
       RowBox[{
        SuperscriptBox[
         RowBox[{"(", 
          RowBox[{
           RowBox[{"loop", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "+", "r"}], ")"}], "2"], "+", 
        SuperscriptBox[
         RowBox[{"(", 
          RowBox[{"z", "-", 
           RowBox[{"loop", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}]], "]"}], " ", "+",
      " ", 
     RowBox[{
      RowBox[{"(", 
       FractionBox[
        RowBox[{
         SuperscriptBox[
          RowBox[{"loop", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "2"], " ", "-", " ", 
         SuperscriptBox["r", "2"], " ", "-", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"z", "-", 
            RowBox[{"loop", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}], 
        RowBox[{
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{
            RowBox[{"loop", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "r"}], ")"}], "2"], "+", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"z", "-", 
            RowBox[{"loop", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}]], ")"}], "*", 
      RowBox[{"EllipticE", "[", 
       FractionBox[
        RowBox[{"4", " ", 
         RowBox[{"loop", "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", "r"}], 
        RowBox[{
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{
            RowBox[{"loop", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", "r"}], ")"}], "2"], "+", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"z", "-", 
            RowBox[{"loop", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}]], "]"}]}]}], 
    ")"}]}]}]], "Input",
 CellChangeTimes->{
  3.5666375007322035`*^9, 3.5666375604298153`*^9, {3.5667051023232856`*^9, 
   3.566705108885523*^9}, {3.566708353988095*^9, 3.5667083632823515`*^9}, {
   3.5667096012883205`*^9, 3.5667096426576653`*^9}},
 FontSize->13,
 CellLabel->
  "In[202]:=",ExpressionUUID->"c1b9d4c7-5340-46fd-94a1-4feece6e520a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Br", "[", 
   RowBox[{"r_", ",", "z_", ",", "loop_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"loop", "[", 
    RowBox[{"[", "3", "]"}], "]"}], "*", " ", 
   RowBox[{"(", 
    RowBox[{"z", "-", 
     RowBox[{"loop", "[", 
      RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "*", 
   FractionBox[
    RowBox[{
     SubscriptBox["\[Mu]", "0"], " ", "/", 
     RowBox[{"(", 
      RowBox[{"2", " ", "\[Pi]", " ", "r"}], ")"}], " "}], 
    SqrtBox[
     RowBox[{
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{
         RowBox[{"loop", "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", "+", " ", "r"}], ")"}], "2"], 
      "+", " ", 
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{"z", "-", 
         RowBox[{"loop", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}]]], "*", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", 
      RowBox[{"EllipticK", "[", 
       FractionBox[
        RowBox[{"4", " ", 
         RowBox[{"loop", "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", "r"}], 
        RowBox[{
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{
            RowBox[{"loop", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", "r"}], ")"}], "2"], "+", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"z", "-", 
            RowBox[{"loop", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}]], "]"}]}], " ", 
     "+", " ", 
     RowBox[{
      RowBox[{"(", 
       FractionBox[
        RowBox[{
         SuperscriptBox[
          RowBox[{"loop", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "2"], " ", "+", " ", 
         SuperscriptBox["r", "2"], " ", "+", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"z", "-", 
            RowBox[{"loop", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}], 
        RowBox[{
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{
            RowBox[{"loop", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "-", "r"}], ")"}], "2"], "+", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"z", "-", 
            RowBox[{"loop", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}]], ")"}], "*", 
      RowBox[{"EllipticE", "[", 
       FractionBox[
        RowBox[{"4", " ", 
         RowBox[{"loop", "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", "r"}], 
        RowBox[{
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{
            RowBox[{"loop", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "+", "r"}], ")"}], "2"], "+", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"z", "-", 
            RowBox[{"loop", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "2"]}]], "]"}]}]}], 
    ")"}]}]}]], "Input",
 CellChangeTimes->{{3.5666375668170595`*^9, 3.56663757380678*^9}, 
   3.566705118660132*^9, {3.566709648502432*^9, 3.5667096766788044`*^9}},
 FontSize->13,
 CellLabel->
  "In[203]:=",ExpressionUUID->"f6bcd6b8-4e5d-472f-b647-9c81a1c91cb9"],

Cell["\<\
These functions calculate the field for all of the loops listed in \"coil\".\
\>", "Text",
 CellChangeTimes->{{3.566709714357297*^9, 3.566709718387136*^9}},
 FontSize->13,ExpressionUUID->"e55d2e1d-7eca-436a-b79a-2c94f329a67f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"AxialField", "[", 
   RowBox[{"r_", ",", "z_", ",", "coil_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{
     RowBox[{
      RowBox[{"TempFunc", "[", "loop_", "]"}], ":=", 
      RowBox[{"Bz", "[", 
       RowBox[{"r", ",", "z", ",", "loop"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Plus", "@@", 
      RowBox[{"Map", "[", 
       RowBox[{"TempFunc", ",", "coil", ",", 
        RowBox[{"{", "1", "}"}]}], "]"}]}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.566709729386696*^9, 3.5667097615429096`*^9}},
 FontSize->13,
 CellLabel->
  "In[204]:=",ExpressionUUID->"5038393b-9cb5-4bae-bb39-44d5b253b1dc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"RadialField", "[", 
   RowBox[{"r_", ",", "z_", ",", "coil_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{
     RowBox[{
      RowBox[{"TempFunc", "[", "loop_", "]"}], ":=", 
      RowBox[{"Br", "[", 
       RowBox[{"r", ",", "z", ",", "loop"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Plus", "@@", 
      RowBox[{"Map", "[", 
       RowBox[{"TempFunc", ",", "coil", ",", 
        RowBox[{"{", "1", "}"}]}], "]"}]}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.566709776902295*^9, 3.566709798179445*^9}},
 FontSize->13,
 CellLabel->
  "In[205]:=",ExpressionUUID->"b52397fb-69fc-42f1-9846-8869eba42cdb"],

Cell["\<\
This function calculates the field magnitude at any point using the previous \
functions.\
\>", "Text",
 FontSize->13,ExpressionUUID->"2eea6120-49c1-4c44-bbf6-69c6a39f9d18"],

Cell[BoxData[
 RowBox[{
  RowBox[{"FieldMag", "[", 
   RowBox[{"r_", ",", "z_", ",", "coil_"}], "]"}], ":=", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"r", "\[Equal]", "0"}], ",", 
    RowBox[{"AxialField", "[", 
     RowBox[{"r", ",", "z", ",", "coil"}], "]"}], ",", 
    SqrtBox[
     RowBox[{
      SuperscriptBox[
       RowBox[{"AxialField", "[", 
        RowBox[{"r", ",", "z", ",", "coil"}], "]"}], "2"], "+", 
      SuperscriptBox[
       RowBox[{"RadialField", "[", 
        RowBox[{"r", ",", "z", ",", "coil"}], "]"}], "2"]}]]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.566709822900956*^9, 3.5667098320730886`*^9}},
 FontSize->13,
 CellLabel->
  "In[206]:=",ExpressionUUID->"e59c852b-1123-4867-a0ed-8d05bb8d1cbb"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Tools for generating \"coil\" list", "Subsubsection",
 CellChangeTimes->{{3.566709848427435*^9, 3.566709853562229*^9}, {
  3.566709905430155*^9, 3.56670990954249*^9}, {3.566711308121702*^9, 
  3.5667113134637747`*^9}},
 FontSize->13,ExpressionUUID->"2e767c9e-6185-4f93-ab8b-3d3e541ebc86"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Helmholtz", "[", 
   RowBox[{"r_", ",", "z_", ",", "current_"}], "]"}], ":=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"r", ",", 
      RowBox[{"-", "z"}], ",", "current"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"r", ",", "z", ",", "current"}], "}"}]}], 
   "}"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AntiHelmholtz", "[", 
   RowBox[{"r_", ",", "z_", ",", "current_"}], "]"}], ":=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"r", ",", 
      RowBox[{"-", "z"}], ",", 
      RowBox[{"-", "current"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"r", ",", "z", ",", "current"}], "}"}]}], 
   "}"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"TrueHelmholtz", "[", 
   RowBox[{"z_", ",", "current_"}], "]"}], ":=", 
  RowBox[{"Helmholtz", "[", 
   RowBox[{
    RowBox[{"2", " ", "z"}], ",", "z", ",", "current"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"TrueAntiHelmholtz", "[", 
   RowBox[{"z_", ",", "current_"}], "]"}], ":=", 
  RowBox[{"AntiHelmholtz", "[", 
   RowBox[{
    RowBox[{"2", " ", "z"}], ",", "z", ",", "current"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"RegularSpacedCoil", "[", 
   RowBox[{
   "InitR_", ",", "RStep_", ",", " ", "RNum_", ",", " ", "InitZ_", ",", " ", 
    "ZStep_", ",", " ", "ZNum_", ",", " ", "Current_"}], "]"}], ":=", " ", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"InitR", "+", 
         RowBox[{"i", "\[Times]", "RStep"}]}], ",", " ", 
        RowBox[{"InitZ", "+", 
         RowBox[{"j", "\[Times]", "ZStep"}]}], ",", "Current"}], "}"}], ",", 
      " ", 
      RowBox[{"{", 
       RowBox[{"i", ",", "0", ",", 
        RowBox[{"RNum", "-", "1"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "0", ",", 
        RowBox[{"ZNum", "-", "1"}]}], "}"}]}], "]"}], ",", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"HelmholtzCoilSet", "[", 
   RowBox[{
   "InitR_", ",", "RStep_", ",", " ", "RNum_", ",", " ", "InitZ_", ",", " ", 
    "ZStep_", ",", " ", "ZNum_", ",", " ", "Current_"}], "]"}], " ", ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{"Table", "[", " ", 
     RowBox[{
      RowBox[{"Helmholtz", "[", 
       RowBox[{
        RowBox[{"InitR", "+", 
         RowBox[{"i", "\[Times]", "RStep"}]}], ",", " ", 
        RowBox[{"InitZ", "+", 
         RowBox[{"j", "\[Times]", "ZStep"}]}], ",", "Current"}], "]"}], ",", 
      " ", 
      RowBox[{"{", 
       RowBox[{"i", ",", "0", ",", 
        RowBox[{"RNum", "-", "1"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "0", ",", 
        RowBox[{"ZNum", "-", "1"}]}], "}"}]}], "]"}], ",", "2"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AntiHelmholtzCoilSet", "[", 
   RowBox[{
   "InitR_", ",", "RStep_", ",", " ", "RNum_", ",", " ", "InitZ_", ",", " ", 
    "ZStep_", ",", " ", "ZNum_", ",", " ", "Current_"}], "]"}], " ", ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{"Table", "[", " ", 
     RowBox[{
      RowBox[{"AntiHelmholtz", "[", 
       RowBox[{
        RowBox[{"InitR", "+", 
         RowBox[{"i", "\[Times]", "RStep"}]}], ",", " ", 
        RowBox[{"InitZ", "+", 
         RowBox[{"j", "\[Times]", "ZStep"}]}], ",", "Current"}], "]"}], ",", 
      " ", 
      RowBox[{"{", 
       RowBox[{"i", ",", "0", ",", 
        RowBox[{"RNum", "-", "1"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "0", ",", 
        RowBox[{"ZNum", "-", "1"}]}], "}"}]}], "]"}], ",", "2"}], 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.5667058166505976`*^9, 3.5667058674325347`*^9}, 
   3.566712983674024*^9, {3.566713095172064*^9, 3.5667133361674237`*^9}, {
   3.5667133735734277`*^9, 3.5667135002983584`*^9}, {3.566716335455948*^9, 
   3.566716359067503*^9}, {3.566716667285174*^9, 3.566716680104661*^9}},
 FontSize->13,
 CellLabel->
  "In[207]:=",ExpressionUUID->"ff743039-db2b-4d4a-9598-fb65b59a00a5"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[StyleBox["Description",
 FontSize->16,
 FontColor->RGBColor[0, 0, 1]]], "Subsection",
 FontSize->13,ExpressionUUID->"e29c1394-f5e4-4690-a41e-3387fc09fb3b"],

Cell[CellGroupData[{

Cell["What this notebook does", "Subsubsection",
 FontSize->13,ExpressionUUID->"f0dfb252-374d-4ef3-99b7-c167ca47d66c"],

Cell["\<\
This notebook is specific for calculating the magnetic field at any point in \
space generated by a pair of coils in Helmholtz and anti-Helmholtz \
configuration.  The calculation shown here accounts for the dimension of the \
coils, that is, the position difference between loops.  The magnetic field is \
calculated by adding up the field produced by each pair of loops in \
anti-Helmholtz (Helmholtz) configuration.  \
\>", "Text",
 CellChangeTimes->{{3.5667060109264393`*^9, 3.5667060723939805`*^9}, {
   3.566706133876521*^9, 3.5667061381663494`*^9}, {3.5667061930591536`*^9, 
   3.566706247501976*^9}, {3.5667062783157434`*^9, 3.5667063021397905`*^9}, {
   3.5667063884538374`*^9, 3.5667064615534134`*^9}, 3.56670989228318*^9, {
   3.5667117116549053`*^9, 3.5667117182321424`*^9}},
 FontSize->13,ExpressionUUID->"5e0c114a-113a-4b33-932d-203bf46b179e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["How to use this notebook", "Subsubsection",
 FontSize->13,ExpressionUUID->"205208ea-e431-45c1-8680-ae3542dcd035"],

Cell["\<\
First, you must make your \"coil\" list.  This is a list of lists.  You have \
one internal list for each loop.  Each of these internal loop (singular) \
lists contains the radius of the loop (in meters), the position of the \
loop(in meters) along z, and the current (in Amperes).  The following coil \
list defines one loop with a radius of 10 cm, position of z = 5 cm, and a 1 \
mA current.\
\>", "Text",
 CellChangeTimes->{{3.5667065493249025`*^9, 3.5667065698190827`*^9}, {
  3.566709898137946*^9, 3.566709956725603*^9}},
 FontSize->13,ExpressionUUID->"6586ab84-278a-419a-bf05-deef2b99d073"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ExampleCoil", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{".1", ",", " ", ".05", ",", " ", ".01"}], "}"}], "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.5667051422991867`*^9, 3.5667051514938188`*^9}, {
  3.5667099779922523`*^9, 3.5667100045036917`*^9}, {3.566711263505272*^9, 
  3.5667112659525757`*^9}, {3.5667114506362996`*^9, 3.566711455308426*^9}},
 FontSize->13,
 CellLabel->
  "In[214]:=",ExpressionUUID->"05aa26ee-cdba-4829-b9ed-7f15d381f052"],

Cell["\<\
Once this is defined, you can determine the axial field (parallel to z), \
radial field (perpendicular to z), and field magnitude at any point (r, z) with
the functions: AxialField, RadialField, and FieldMag.  each of these \
functions takes r, z, and your coil list.  All of these functions return the \
magnetic field in Gauss.  Example:\
\>", "Text",
 CellChangeTimes->{3.5667099666752048`*^9},
 FontSize->13,ExpressionUUID->"30d74cb7-451b-47d3-847c-c116f2d98f7c"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"AxialField", "[", 
    RowBox[{"0", ",", "z", ",", " ", "ExampleCoil"}], "]"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"z", ",", " ", 
     RowBox[{"-", ".1"}], ",", " ", ".1"}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{
  3.566638283100415*^9, 3.5667099808546376`*^9, {3.56671126902483*^9, 
   3.5667112720645866`*^9}, {3.566711462442855*^9, 3.5667114662350516`*^9}},
 FontSize->13,
 CellLabel->
  "In[215]:=",ExpressionUUID->"a1746f3a-5dba-4d1d-9f87-1b14a768e1ff"],

Cell[BoxData[
 GraphicsBox[{{{}, {}, 
    TagBox[
     {RGBColor[0.368417, 0.506779, 0.709798], AbsoluteThickness[1.6], Opacity[
      1.], LineBox[CompressedData["
1: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
/+MYZL4703WGjv8Dm1JEQA==
       "]]},
     Annotation[#, "Charting`Private`Tag$64095#1"]& ]}, {}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{None, None},
  AxesOrigin->{0, 0.00010723951753177017`},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{
   "DefaultBoundaryStyle" -> Automatic, 
    "DefaultGraphicsInteraction" -> {
     "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
      "Effects" -> {
       "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
        "Droplines" -> {
         "freeformCursorMode" -> True, 
          "placement" -> {"x" -> "All", "y" -> "None"}}}}, "DefaultMeshStyle" -> 
    AbsolutePointSize[6], "ScalingFunctions" -> None, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{-0.1, 0.1}, {0.00010723951753177017`, 0.0006283185038296552}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.05], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.5666382931750126`*^9, 3.5667051766958113`*^9, {3.5667100005863485`*^9, 
   3.5667100084460335`*^9}, 3.5667157216989474`*^9, 3.5667166922641745`*^9, 
   3.56671878132662*^9, 3.566719529665619*^9, 3.566721217885334*^9, 
   3.566722434067966*^9, 3.56686222236761*^9, {3.88888045585145*^9, 
   3.8888804811285515`*^9}, 3.8888805340762386`*^9, 3.888880577621133*^9},
 CellLabel->
  "Out[215]=",ExpressionUUID->"6e9bc6e9-5058-4cd7-9c26-f6553ef236b1"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Generating coils lists", "Subsubsection",
 FontSize->13,ExpressionUUID->"ec496cf9-1d2e-4a37-b7f6-80e2814039c7"],

Cell["\<\
There are several functions to help you generate coils lists.  

The function \"Helmholtz\" takes  the parameters for a coil list (r, z, \
current) and returns a coils list with two identical coils.  One has the \
parameters you specified, and the other has a position of -z.

The function \"TrueHelmholtz\" takes the same parameters except that it does \
not take a radius.  The radius is automatically set to 2z.

The functions \"AntiHelmholtz\" and \"TrueAntiHelmholtz\" work identically \
except that the mirror coil has the opposite current.\
\>", "Text",
 CellChangeTimes->{{3.5667081546446877`*^9, 3.5667081562446237`*^9}},
 FontSize->13,ExpressionUUID->"452eaaaa-78b2-439c-ba2f-6f4afc831f2b"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ExampleCoil", " ", "=", " ", 
   RowBox[{"AntiHelmholtz", "[", 
    RowBox[{".4", ",", " ", ".15", ",", ".001"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"AxialField", "[", 
    RowBox[{"0", ",", "z", ",", " ", "ExampleCoil"}], "]"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"z", ",", " ", 
     RowBox[{"-", ".1"}], ",", " ", ".1"}], "}"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.5667081639768143`*^9, 3.566708178406237*^9}, {
  3.566711362102383*^9, 3.566711375868782*^9}, {3.5667114405096097`*^9, 
  3.5667114421269803`*^9}},
 FontSize->13,
 CellLabel->
  "In[216]:=",ExpressionUUID->"291d2d6e-73d1-4e4f-9376-3b4ae8a20cae"],

Cell[BoxData[
 GraphicsBox[{{{}, {}, 
    TagBox[
     {RGBColor[0.368417, 0.506779, 0.709798], AbsoluteThickness[1.6], Opacity[
      1.], LineBox[CompressedData["
1:eJwB4QQe+yFib1JlAgAAAE0AAAACAAAAJcwRiJmZub8GDcXnkDHYvlqU6WyU
lbm/vCgYfYEu2L6OXMFRj5G5v8gnYL9xK9i+9uxwG4WJub/GTvBKUSXYvsYN
0K5webm/Pi38fgwZ2L5mT47VR1m5vx5bIGJzANi+qNIKI/YYub8MRfhPA8/X
vizZA75SmLi/8DiRqy1r17533W/uZ4G3v3xOmSBljta+SzMm3fh8tr/kZVWa
CbvVvpG8Np6lfbW/eu/vvBnn1L4aPcFZrmi0vxpeBloX/NO+Lg+W0zJms79q
ZuN0JRzTvoTY5EcTTrK/DJRYDKAk0r5M1Y2ODzuxvxryp8TzLNG+niOBk4c6
sL8CGUad9UHQvmXS3CW3SK6/jPw0pBZ+zr6iAEyhVkGsv6yZQhpmk8y+w5Vv
wS1Eqr+8EKf39qvKvmkZh9a8G6i/3EGC0meUyL4jQDNoQximvzTuC4Xbmsa+
YlXT7oHpo7+gwoSuB3HEvobRJxr4xKG/3CqN8/ZLwr574SGEy4qfv8hyoLSY
R8C+9PzbvRY1m79wtdGawia8vpVev/BQKZe/kIjk47ECuL5BnYoN+8aSv5iE
Mhm/f7O+a1N95yjyjL9wKkZKPRmuvqT4N6Y56oS/sI5P5Z/Epb7ir4RxVGp4
v+CoHdalbZm+OA599uJPYL/AbMZ5ev6Avh2qkVXRIl8/QE0THg04gD4C6Gd+
mhN5P6DQfC7RHZo+biZjYWKbhD+A7osqu3KlPseewq8XWo0/EHSdceGErj7I
Pag19/eSP2i8UH9GsrM+BOZFmvP4lj9gTOU5DdG3Pjax+xSAUJs/GB4dzrpC
vD5ANoiWHV6fP1QV17r1MMA+wPZV56WroT/0fib9fzLCPtvjcw6F06M/ZGo6
oh5bxD7iLf24bNalP7DUKJvnWcY+ZImSbpwEqD+sY9Fi133IPtJBk6fUDao/
7Cz0EZR3yj5ck9871QysP0w/3XNrYcw+YfY32x03rj9o0QH2km3OPinb/X43
HrA/vnJNNMwn0D7fw+UVhDaxP+rcNFvSKNE+I3lz2rRJsj+k6fXouSDSPt3c
tuBpSrM/KqFk4tAD0z5VSYDswmC0P5w1bolL9dM+Q2T/OaBktT/YapXiFdLU
Pr5LJLVhY7Y/rPBADwGm1T72O881x3e3P+gNnYKrhtY+pNov+LB5uD/qP03j
N1PXPmpib5owfrg/+jDs1b1W1z4w6q48sIK4P0jpfGNDWtc+vPktga+LuD+G
tEFPTWHXPtQYLAqunbg/hIn7Z1xv1z4EVygcq8G4P6wwUZNni9c+ZNMgQKUJ
uT9KTDN7McPXPipbYOIkDrk/hHcRtKrG1z7w4p+EpBK5P4qfV4Yjytc+fPIe
yaMbuT+Kguv2E9HXPpQRHVKiLbk/4o/fBvDe1z7ETxlkn1G5P7Qwc9eU+tc+
itdYBh9WuT8yKCyhB/7XPlBfmKieWrk/rAONA3oB2D7cbhftnWO5PyTRFpJd
CNg+9I0Vdpx1uT9aZf7UHxbYProVVRgcerk/UAWqYo8Z2D6AnZS6m365P4qy
noj+HNg+DK0T/5qHuT8EBzSd2yPYPtI0U6EajLk/dB+9i0kn2D6YvJJDmpC5
P5onYBK3Ktg+XkTS5RmVuT8eYBExJC7YPiXMEYiZmbk/Bg3F55Ax2D4b/ncz

       "]]},
     Annotation[#, "Charting`Private`Tag$64394#1"]& ]}, {}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{None, None},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{
   "DefaultBoundaryStyle" -> Automatic, 
    "DefaultGraphicsInteraction" -> {
     "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
      "Effects" -> {
       "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
        "Droplines" -> {
         "freeformCursorMode" -> True, 
          "placement" -> {"x" -> "All", "y" -> "None"}}}}, "DefaultMeshStyle" -> 
    AbsolutePointSize[6], "ScalingFunctions" -> None, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{-0.1, 0.1}, {-5.76820786718784*^-6, 5.76820786718784*^-6}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.05], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.5667157217239456`*^9, 3.566716692289174*^9, 3.566718781357818*^9, 
   3.5667195296968145`*^9, 3.5667212179165325`*^9, 3.566722434083565*^9, 
   3.566862222383211*^9, {3.888880455976942*^9, 3.888880481281849*^9}, 
   3.8888805342170725`*^9, 3.888880577762025*^9},
 CellLabel->
  "Out[217]=",ExpressionUUID->"78de7800-ef9c-4431-82c5-274f1953cf37"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Function Summary", "Subsubsection",
 FontSize->13,ExpressionUUID->"26b00dc0-848c-4c3f-a7c4-3e28b2fded15"],

Cell[TextData[{
 "coil = ",
 Cell[BoxData[
  FormBox[
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["rad", "1"], ",", 
       SubscriptBox["z", "1"], ",", 
       SubscriptBox["I", "1"]}], "}"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["rad", "2"], ",", 
       SubscriptBox["z", "2"], ",", 
       SubscriptBox["I", "2"]}], "}"}], ",", " ", "..."}], "}"}], 
   TraditionalForm]],ExpressionUUID->"9634bb4e-d9ce-4c7a-8725-f374a5df78ed"],
 "\ncoil = Helmholtz[rad, z, I]\ncoil = TrueHelmholtz[z,  I]\ncoil = \
AntiHelmholtz[rad, z, I]\ncoil = TrueAntiHelmholtz[z, I]\ncoil = \
HelmholtzCoilSet[r0, dr, Nr, z0, dz, Nz, I]\ncoil = AntiHelmholtzCoilSet[r0, \
dr, Nr, z0, dz, Nz, I]\n\nAxialField[r, z, coils]\nRadialField[r, z, coils]\n\
FieldMag[r, z, coils]"
}], "Text",
 CellChangeTimes->{{3.5667083198308277`*^9, 3.56670832979253*^9}, {
  3.566713517125185*^9, 3.566713536356916*^9}, {3.5667137005503483`*^9, 
  3.5667137678126574`*^9}, {3.566713850686842*^9, 3.5667138522392797`*^9}, {
  3.5667139845514874`*^9, 3.5667139874788704`*^9}, {3.5667140251498632`*^9, 
  3.5667141149712706`*^9}, {3.5667141494648905`*^9, 3.566714279365694*^9}, {
  3.566714309894473*^9, 3.5667143919811897`*^9}},
 FontSize->13,ExpressionUUID->"8dec9695-851a-47f4-b7ad-68b59c15e9df"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[StyleBox["Magnetic Field Calculations",
 FontSize->16,
 FontColor->RGBColor[0, 0, 1]]], "Subsection",
 CellChangeTimes->{{3.5667144476739616`*^9, 3.566714478567726*^9}},
 FontSize->13,ExpressionUUID->"b303de68-bc05-4fdf-b4e3-d01431674c7d"],

Cell[CellGroupData[{

Cell["Experimental values", "Subsubsection",
 CellChangeTimes->{{3.566714506089125*^9, 3.566714525638343*^9}, 
   3.56671481495177*^9},
 FontSize->13,ExpressionUUID->"52fe8890-5006-47a5-b7ac-4547648715d6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"DR", " ", "=", " ", "0.001"}], ";"}], "  ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "the", " ", "size", " ", "of", " ", "the", " ", "square", " ", 
    "wiretube"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DZ", " ", "=", " ", "0.001"}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "the", " ", "size", " ", "of", " ", "the", " ", "square", " ", "wire"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"R0", "=", " ", 
   RowBox[{
    RowBox[{"0.200", "/", "2"}], " ", "+", " ", 
    RowBox[{"0.001", "/", "2"}]}]}], ";", "  ", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{
    "the", " ", "radius", " ", "of", " ", "the", " ", "first", " ", "loop", 
     " ", "in", " ", "the", " ", "coil"}], ",", " ", 
    RowBox[{
     RowBox[{
      RowBox[{
      "is", " ", "given", " ", "by", " ", "the", " ", "CF100", " ", "flange", 
       " ", "size"}], " ", "&"}], " ", "hollow", " ", "tube", " ", "size"}]}],
    "*)"}], "\[IndentingNewLine]", 
  RowBox[{"NR0", "=", " ", "10"}], ";", "  ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "the", " ", "number", " ", "of", " ", "turns", " ", "along", " ", "radial",
     " ", "direction"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"Z0", " ", "=", " ", 
   RowBox[{
    RowBox[{"0.2", "/", "2"}], " ", "+", " ", 
    RowBox[{"0.001", "/", "2"}]}]}], ";", " ", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "the", " ", "position", " ", "of", " ", "the", " ", "first", " ", "loop", 
     " ", "along", " ", "z"}], ",", " ", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"is", " ", "given", " ", "by", " ", "the", " ", "z"}], "-", 
       RowBox[{
       "direction", " ", "thickness", " ", "of", " ", "the", " ", "main", " ",
         "chamber"}]}], " ", "&"}], " ", "hollow", " ", "tube", " ", 
     "size"}]}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"NZ0", " ", "=", " ", "10"}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "the", " ", "number", " ", "of", " ", "turns", " ", "along", " ", "axial", 
    " ", "direction"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"Ra", " ", "=", " ", 
   RowBox[{"R0", " ", "+", " ", 
    RowBox[{"NR0", "*", "DR"}]}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"the", " ", "initial", " ", "radius", " ", "of", " ", 
     RowBox[{"the", " ", "'"}], 
     RowBox[{"appended", "'"}], " ", 
     RowBox[{"coil", ".", " ", "'"}], 
     RowBox[{"a", "'"}], " ", "here", " ", "stands", " ", 
     RowBox[{"for", " ", "'"}], 
     RowBox[{"appended", "'"}]}], ",", 
    RowBox[{"this", " ", "is", " ", "account", " ", "for", " ", "one", " ", 
     RowBox[{"(", 
      RowBox[{"or", " ", "a", " ", "few"}], ")"}], " ", "additional", " ", 
     "out", " ", "layer", 
     RowBox[{"(", "s", ")"}], " ", "which", " ", "do", 
     RowBox[{"(", "es", ")"}], " ", "not", " ", "have", " ", "the", " ", 
     "complete", " ", "turns", " ", "as", " ", "the", " ", "layers", " ", 
     RowBox[{"inside", "."}]}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"NRa", " ", "=", " ", "NR0"}], ";", " ", 
  RowBox[{"(*", 
   RowBox[{"the", " ", "number", " ", "of", " ", "layers", " ", "of", " ", 
    RowBox[{"the", " ", "'"}], 
    RowBox[{"appended", "'"}], " ", "coil"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"Za", " ", "=", " ", "Z0"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"NZa", " ", "=", "NZ0"}], ";", " ", 
  RowBox[{"(*", 
   RowBox[{"the", " ", "number", " ", "of", " ", "turns", " ", "of", " ", 
    RowBox[{"the", " ", "'"}], 
    RowBox[{"appended", "'"}], " ", "coil"}], " ", "*)"}], 
  "\[IndentingNewLine]"}]}], "Input",
 CellChangeTimes->{{3.566637390520612*^9, 3.5666374618927565`*^9}, {
   3.5666375389181757`*^9, 3.566637549040271*^9}, {3.5666381968503656`*^9, 
   3.5666382608938036`*^9}, 3.56671454871242*^9, {3.56671482021406*^9, 
   3.566714823573925*^9}, {3.5667149523962717`*^9, 3.566715060618922*^9}, {
   3.5667152236802793`*^9, 3.566715467458406*^9}, {3.566715573723153*^9, 
   3.5667156272155046`*^9}, {3.5667162709635277`*^9, 
   3.5667162736459203`*^9}, {3.566716730085162*^9, 3.566716736704897*^9}, {
   3.566717020902029*^9, 3.56671702237197*^9}, {3.5667170710600224`*^9, 
   3.566717071457506*^9}, {3.566717316002226*^9, 3.5667173214520082`*^9}, 
   3.5667217146016636`*^9, 3.566722223821948*^9, {3.566722441181201*^9, 
   3.566722442709923*^9}, {3.5667268066543193`*^9, 3.5667269074592786`*^9}, {
   3.5733468742889156`*^9, 3.5733468751468554`*^9}, {3.573350941704703*^9, 
   3.573350953996636*^9}, {3.573350999061858*^9, 3.57335148309975*^9}, {
   3.573351535278405*^9, 3.573351548943129*^9}, {3.573352173056517*^9, 
   3.5733521797484455`*^9}, {3.573352340370319*^9, 3.5733523409630766`*^9}, {
   3.5733523995993423`*^9, 3.573352400535276*^9}, {3.5733524770790787`*^9, 
   3.5733525270891514`*^9}, {3.5733531120935645`*^9, 3.573353140637904*^9}, {
   3.5733532338203564`*^9, 3.573353237283911*^9}, {3.57335330864916*^9, 
   3.57335331098886*^9}, {3.573353501538892*^9, 3.573353531255225*^9}, {
   3.5733535613293257`*^9, 3.5733535617504883`*^9}, {3.5733536926697636`*^9, 
   3.573353746750803*^9}, {3.5734649730499563`*^9, 3.5734649747822886`*^9}, {
   3.8888798453129034`*^9, 3.8888798639209604`*^9}, {3.8888798958719716`*^9, 
   3.8888799200344276`*^9}, {3.888880308032855*^9, 3.888880315288247*^9}, {
   3.8888804751643486`*^9, 3.8888804770098*^9}, {3.8888805285731936`*^9, 
   3.888880529151603*^9}, {3.8888806017874*^9, 3.888880615455776*^9}},
 FontSize->13,ExpressionUUID->"201d2ec6-9a81-4f2f-ba65-571ec47aa1b3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["MOT magnetic field", "Subsubsection",
 CellChangeTimes->{{3.566714506089125*^9, 3.566714525638343*^9}, 
   3.56671481495177*^9, {3.566721686927683*^9, 3.566721694758481*^9}},
 FontSize->13,ExpressionUUID->"58af5ab2-3e84-476a-9d0b-4fdd22026047"],

Cell[BoxData[
 RowBox[{
  RowBox[{"IMOT", " ", "=", " ", "8"}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "MOT", " ", "current"}], " ", "*)"}]}]], "Input",
 CellChangeTimes->{{3.5733535905299053`*^9, 3.5733536109328737`*^9}, {
   3.5734516366124516`*^9, 3.5734518461451015`*^9}, {3.57346306939892*^9, 
   3.5734630955819435`*^9}, {3.573464956425907*^9, 3.5734650057276535`*^9}, {
   3.573465286972724*^9, 3.5734652973092422`*^9}, {3.573466862576747*^9, 
   3.573466907766508*^9}, {3.5734701069803743`*^9, 3.5734701211973104`*^9}, {
   3.888879966101347*^9, 3.888879966148239*^9}, 3.888880573695202*^9},
 CellLabel->
  "In[225]:=",ExpressionUUID->"353876f6-5215-4115-9a2c-6987e4472cbc"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"MOTCoil", " ", "=", 
    RowBox[{"Join", " ", "[", 
     RowBox[{
      RowBox[{"AntiHelmholtzCoilSet", "[", 
       RowBox[{
       "R0", ",", " ", "DR", ",", " ", "NR0", ",", " ", "Z0", ",", " ", "DZ", 
        ",", " ", "NZ0", ",", " ", "IMOT"}], "]"}], ",", 
      RowBox[{"AntiHelmholtzCoilSet", "[", 
       RowBox[{
       "Ra", ",", " ", "DR", ",", " ", "NRa", ",", " ", "Za", ",", " ", "DZ", 
        ",", " ", "NZa", ",", " ", "IMOT"}], "]"}]}], "]"}]}], ";"}], " ", 
  RowBox[{"(*", 
   RowBox[{"make", " ", "the", " ", "MOT", " ", "coil"}], "*)"}]}]], "Input",
 CellChangeTimes->{
  3.566638283100415*^9, 3.5667099808546376`*^9, {3.56671126902483*^9, 
   3.5667112720645866`*^9}, {3.566711462442855*^9, 3.5667114662350516`*^9}, 
   3.566715519262189*^9, {3.5667155695261564`*^9, 3.5667155707235126`*^9}, {
   3.5667156348923907`*^9, 3.566715691752842*^9}, 3.566721227057664*^9, {
   3.5667212701706543`*^9, 3.5667212932418714`*^9}, {3.566721735551389*^9, 
   3.5667217520397434`*^9}, {3.5733515016781588`*^9, 3.573351557023411*^9}, {
   3.57335168208014*^9, 3.573351688818865*^9}, {3.5733517313882627`*^9, 
   3.5733517347108283`*^9}, {3.573351771571029*^9, 3.5733517806339903`*^9}, {
   3.573351818539317*^9, 3.573351824248514*^9}, {3.573351880420153*^9, 
   3.5733518919321413`*^9}, {3.5733519547957087`*^9, 
   3.5733519726564493`*^9}, {3.573352107884313*^9, 3.5733521460236235`*^9}, {
   3.5733522814220753`*^9, 3.5733523099056673`*^9}, {3.5733523635970807`*^9, 
   3.573352370335806*^9}, {3.5733524242300053`*^9, 3.573352452994377*^9}, {
   3.5733524887158575`*^9, 3.5733524943782587`*^9}},
 FontSize->13,
 CellLabel->
  "In[226]:=",ExpressionUUID->"db7cc393-096d-41d5-b843-278bde0417a5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"MOTAxialField", " ", "[", "z_", "]"}], " ", ":=", " ", 
   RowBox[{"AxialField", " ", "[", 
    RowBox[{"0", ",", "z", ",", " ", "MOTCoil"}], "]"}]}], " ", 
  RowBox[{"(*", 
   RowBox[{
   "MOT", " ", "magnetic", " ", "field", " ", "along", " ", "axial", " ", 
    "direction"}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{"MOTRadialField", "[", "r_", "]"}], " ", ":=", " ", 
  RowBox[{"RadialField", " ", "[", 
   RowBox[{"r", ",", " ", "0", ",", " ", "MOTCoil"}], "]"}], " ", 
  RowBox[{"(*", 
   RowBox[{
   "MOT", " ", "magnetic", " ", "field", " ", "along", " ", "radial", " ", 
    "direction"}], "*)"}]}]}], "Input",
 CellChangeTimes->{{3.5667217560643373`*^9, 3.5667217856404204`*^9}, {
   3.5667218772545223`*^9, 3.5667218984538345`*^9}, 3.566722154826687*^9},
 CellLabel->
  "In[227]:=",ExpressionUUID->"a44eae4c-a071-4904-a23f-1148cf88c706"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Plot", "[", 
   RowBox[{
    RowBox[{"MOTAxialField", "[", "z", "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"z", ",", " ", 
      RowBox[{"-", "0.05"}], ",", " ", "0.05"}], "}"}]}], "]"}], " "}], "\n", 
 RowBox[{"MOTAxialGrad", " ", "=", " ", 
  RowBox[{
   RowBox[{"ND", " ", "[", 
    RowBox[{
     RowBox[{"MOTAxialField", "[", "z", "]"}], ",", "z", ",", "0"}], "]"}], 
   "/", "100", " ", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{"Gauss", "/", "cm"}], ",", " ", 
     RowBox[{
     "axial", " ", "magnetic", " ", "field", " ", "gradient", " ", "at", " ", 
      "the", " ", "MOT", " ", "center"}]}], "*)"}]}]}]}], "Input",
 CellChangeTimes->{{3.5667157512090864`*^9, 3.5667158029559464`*^9}, {
   3.566716766158719*^9, 3.56671676988607*^9}, 3.5667218623416867`*^9, {
   3.566722054071454*^9, 3.5667220619334507`*^9}, 3.566722180331379*^9},
 CellLabel->
  "In[229]:=",ExpressionUUID->"50c2dbc7-42e3-4dc8-bae2-c3bf3116af94"],

Cell[BoxData[
 GraphicsBox[{{{}, {}, 
    TagBox[
     {RGBColor[0.368417, 0.506779, 0.709798], AbsoluteThickness[1.6], Opacity[
      1.], LineBox[CompressedData["
1:eJwB4QQe+yFib1JlAgAAAE0AAAACAAAAJcwRiJmZqb8lAnIXldRHwFqU6WyU
lam/K/lMsuDQR8COXMFRj5Gpv6LhUDMszUfA9uxwG4WJqb979yPowsVHwMYN
0K5weam/6OAoH++2R8BmT47VR1mpv6bDJdRCmUfAqNIKI/YYqb8ewVjk111H
wCzZA75SmKi/gCnF27zmRsB33W/uZ4Gnv9dGq6Nn40XASzMm3fh8pr+WvGPh
KvBEwJG8Np6lfaW/8Ttbfu8ARMAaPcFZrmikv2SxwUPT/ELALg+W0zJmo7+f
XF62uAlCwITY5EcTTqK//kdqHBcCQcBM1Y2ODzuhv9t7U0OL/j/AniOBk4c6
oL9PlN7K+hs+wGXS3CW3SJ6/yszbekIRPMCiAEyhVkGcvyZlrdL4KTrAw5Vv
wS1Emr+sEB5GDk04wGkZh9a8G5i/Bn4W9JRINsAjQDNoQxiWvwSLk9amZzTA
YlXT7oHpk7/a2RXecV8ywIbRJxr4xJG/jOFzRd1hMMB74SGEy4qPv2BOsKgt
Dy3A9PzbvRY1i786M/OiWwwpwJVev/BQKYe/uIUuY6dPJcBBnYoN+8aCv1A6
iriiRCHAa1N95yjyfL+C9K9Cu5sawKT4N6Y56nS/fAQbD104E8Dir4RxVGpo
vzvRRVicbgbAOA599uJPUL/PknWQlfjtvx2qkVXRIk8/vF1L1Zma7D8C6Gd+
mhNpP0wl7qcrCgdAbiZjYWKbdD+UbEJl3e8SQMeewq8XWn0/DBRaSWT7GkDI
Pag19/eCP3qfqQXHcSFABOZFmvP4hj94ufu8BCMlQDax+xSAUIs/7MTUz7Il
KUBANoiWHV6PP43FIBnM5SxAwPZV56WrkT/QcqYmXkowQNvjcw6F05M/CExG
XP9KMkDiLf24bNaVPyMqDJ9LKjRAZImSbpwEmD9uWIYB/DI2QNJBk6fUDZo/
0cy4CDMaOEBck9871QycP3K5b/XA+DlAYfY32x03nj8EgmF7vAA8QCnb/X43
HqA/CY2KEb/mPUDfw+UVhDahP/xMj9n99T9AI3lz2rRJoj+Gnq1s+v1AQN3c
tuBpSqM/vO/Vy5PvQUBVSYDswmCkP78StX1h9UJAQ2T/OaBkpT8WYwaTdelD
QL5LJLVhY6Y/2K6rZzjYRED2O881x3enP1y34gBu2kVApNov+LB5qD8cx7xp
U8pGQGpib5owfqg/3Pit4H/ORkAw6q48sIKoP1B8zj2s0kZAvPktga+LqD9I
ZDaqBNtGQNQYLAqunag/6vDNSLTrRkAEVygcq8GoP6hGXIYODUdAZNMgQKUJ
qT/WxOBKrk9HQCpbYOIkDqk/KsoNVddTR0Dw4p+EpBKpPzcQHkIAWEdAfPIe
yaMbqT+jMXzEUWBHQJQRHVKiLak/qlU3Z/NwR0DETxlkn1GpP+QfzAwxkkdA
itdYBh9WqT8V3mo4WJZHQFBfmKieWqk/dY03RX+aR0DcbhftnWOpPx4I7AHN
okdA9I0Vdpx1qT++LrgEZ7NHQLoVVRgceqk/Q3+9No23R0CAnZS6m36pP69J
Ekmzu0dADK0T/5qHqT/LTzoO/8NHQNI0U6EajKk/5nPVwCTIR0CYvJJDmpCp
P8XiT1NKzEdAXkTS5RmVqT9Gd43Fb9BHQCXMEYiZmak/JQJyF5XUR0B+g1gZ

       "]]},
     Annotation[#, "Charting`Private`Tag$64520#1"]& ]}, {}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{None, None},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{
   "DefaultBoundaryStyle" -> Automatic, 
    "DefaultGraphicsInteraction" -> {
     "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
      "Effects" -> {
       "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
        "Droplines" -> {
         "freeformCursorMode" -> True, 
          "placement" -> {"x" -> "All", "y" -> "None"}}}}, "DefaultMeshStyle" -> 
    AbsolutePointSize[6], "ScalingFunctions" -> None, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{-0.05, 0.05}, {-47.66079991404357, 47.66079991404357}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.05], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.566722454721307*^9, 3.5668622255814776`*^9, 3.573346896305764*^9, 
   3.5733516423341427`*^9, 3.573351710906907*^9, 3.5733517858908195`*^9, 
   3.5733518310340357`*^9, {3.5733518844290705`*^9, 3.573351896050251*^9}, {
   3.5733519637962737`*^9, 3.573351975604641*^9}, 3.573352151389645*^9, 
   3.5733521909328566`*^9, 3.573352286647707*^9, {3.5733523301218414`*^9, 
   3.5733523506343946`*^9}, {3.5733523828149257`*^9, 
   3.5733524089430833`*^9}, {3.5733525007426095`*^9, 3.573352535216179*^9}, {
   3.5733531238544564`*^9, 3.5733531813798804`*^9}, 3.573353241047428*^9, 
   3.573353315683858*^9, {3.5733535108366575`*^9, 3.5733535658685184`*^9}, {
   3.5733535982044163`*^9, 3.5733536150977*^9}, 3.5733537012491035`*^9, {
   3.573353736081224*^9, 3.5733537501513414`*^9}, {3.5734516334550133`*^9, 
   3.573451850054901*^9}, {3.573463085749731*^9, 3.5734630988691607`*^9}, {
   3.5734649648023663`*^9, 3.5734650095303335`*^9}, {3.5734652926504*^9, 
   3.5734653001245775`*^9}, {3.573466870413021*^9, 3.573466910367646*^9}, {
   3.5734701107861357`*^9, 3.573470127577027*^9}, 3.888880457621355*^9, 
   3.8888804929171486`*^9, 3.8888805359819603`*^9, 3.8888805795620613`*^9},
 CellLabel->
  "Out[229]=",ExpressionUUID->"7aca374a-9897-402b-b0e3-7e7dd43947fd"],

Cell[BoxData["9.614574896404854`"], "Output",
 CellChangeTimes->{
  3.566722454721307*^9, 3.5668622255814776`*^9, 3.573346896305764*^9, 
   3.5733516423341427`*^9, 3.573351710906907*^9, 3.5733517858908195`*^9, 
   3.5733518310340357`*^9, {3.5733518844290705`*^9, 3.573351896050251*^9}, {
   3.5733519637962737`*^9, 3.573351975604641*^9}, 3.573352151389645*^9, 
   3.5733521909328566`*^9, 3.573352286647707*^9, {3.5733523301218414`*^9, 
   3.5733523506343946`*^9}, {3.5733523828149257`*^9, 
   3.5733524089430833`*^9}, {3.5733525007426095`*^9, 3.573352535216179*^9}, {
   3.5733531238544564`*^9, 3.5733531813798804`*^9}, 3.573353241047428*^9, 
   3.573353315683858*^9, {3.5733535108366575`*^9, 3.5733535658685184`*^9}, {
   3.5733535982044163`*^9, 3.5733536150977*^9}, 3.5733537012491035`*^9, {
   3.573353736081224*^9, 3.5733537501513414`*^9}, {3.5734516334550133`*^9, 
   3.573451850054901*^9}, {3.573463085749731*^9, 3.5734630988691607`*^9}, {
   3.5734649648023663`*^9, 3.5734650095303335`*^9}, {3.5734652926504*^9, 
   3.5734653001245775`*^9}, {3.573466870413021*^9, 3.573466910367646*^9}, {
   3.5734701107861357`*^9, 3.573470127577027*^9}, 3.888880457621355*^9, 
   3.8888804929171486`*^9, 3.8888805359819603`*^9, 3.888880579593318*^9},
 CellLabel->
  "Out[230]=",ExpressionUUID->"90ca2ab0-85c0-4f27-9cef-37df1ee416e8"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Plot", "[", 
   RowBox[{
    RowBox[{"MOTRadialField", "[", "r", "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"r", ",", " ", 
      RowBox[{"-", "0.05"}], ",", " ", "0.05"}], "}"}]}], "]"}], " "}], "\n", 
 RowBox[{"MOTRadialGrad", " ", "=", " ", 
  RowBox[{
   RowBox[{"ND", " ", "[", 
    RowBox[{
     RowBox[{"MOTRadialField", "[", "r", "]"}], ",", "r", ",", "0.001"}], 
    "]"}], "/", "100", " ", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{"Gauss", "/", "cm"}], ",", " ", 
     RowBox[{
     "radial", " ", "magnetic", " ", "field", " ", "gradient", " ", "near", 
      " ", "the", " ", "MOT", " ", "center"}]}], "*)"}]}]}]}], "Input",
 CellChangeTimes->{{3.5667182270530443`*^9, 3.5667182769860835`*^9}, {
   3.5667188229296865`*^9, 3.5667188331627617`*^9}, 3.5667218623416867`*^9, {
   3.5667220386282463`*^9, 3.566722077298663*^9}, 3.566722184543163*^9},
 CellLabel->
  "In[231]:=",ExpressionUUID->"f0837788-741a-4a48-8984-6150ec7c34af"],

Cell[BoxData[
 GraphicsBox[{{{}, {}, 
    TagBox[
     {RGBColor[0.368417, 0.506779, 0.709798], AbsoluteThickness[1.6], Opacity[
      1.], LineBox[CompressedData["
1:eJwBEQLu/SFib1JlAgAAACAAAAACAAAAJcwRiJmZqb8c0KxrV7I2QFqU6WyU
lam/+1ff9xyvNkCOXMFRj5Gpv5uRwU/iqzZA9uxwG4WJqb+14NdibKU2QMYN
0K5weam/R7ceGH6YNkBmT47VR1mpv5DGoc2XfjZAqNIKI/YYqb9CeUTYpEo2
QCzZA75SmKi/OqVRACniNUB33W/uZ4GnvwInPIMQ/TRASzMm3fh8pr+sD1tR
OCQ0QJG8Np6lfaW/dwouCR5NM0AaPcFZrmikvzCfqy44YTJALg+W0zJmo78e
ZvRd4IIxQITY5EcTTqK/HuqHj8OPMEBM1Y2ODzuhvxLs/nE+Pi9AniOBk4c6
oL/gKynVKHotQGXS3CW3SJ6/GWRpFN6MK0CiAEyhVkGcvyDUi0vHvSlAw5Vv
wS1Emr+xzT5Lp/UnQGkZh9a8G5i/pmiIWaAEJkAjQDNoQxiWv6D00ZcYMyRA
YlXT7oHpk7+y+D4AzTgiQIbRJxr4xJG/CvCjxkpGIEB74SGEy4qPv8YnvpB/
6BxA9PzbvRY1i78EpwwTdfMYQJVev/BQKYe/7SBhG0FAFUBBnYoN+8aCvw72
ZHdpPBFAa1N95yjyfL+HVcf2L5QKQKT4N6Y56nS/r/R1poM1A0Dir4RxVGpo
v/4YdAJ6bfY/OA599uJPUL8usmVBavjdP8idJezmtwC/BKhWL5m3jj84IPcl

       "]], LineBox[CompressedData["
1:eJwB8QIO/SFib1JlAgAAAC4AAAACAAAAyJ0l7Oa3AD/SkhMwmbeOvwLoZ36a
E2k/tbtHGPEI979uJmNhYpt0P/FaurUj7QLAx57CrxdafT/1rwq5hvMKwMg9
qDX394I/cSes70xpEcAE5kWa8/iGP23VyL39ExXANrH7FIBQiz9i2QYlgQwZ
wEA2iJYdXo8/gNxSK8C/HMDA9lXnpauRP3k7/K0/LyDA2+NzDoXTkz9aHgRQ
2CQiwOIt/bhs1pU/tJoYbIb3I8BkiZJunASYP6+o/nXG7yXA0kGTp9QNmj+S
gpbU2cQnwFyT3zvVDJw/ShoqC9aOKcBh9jfbHTeePyjTSwk3fSvAKdv9fjce
oD8HGplyF0gtwN/D5RWENqE/d6xvkkI2L8AjeXPatEmiP45oqar0izDA3dy2
4GlKoz84/0Dn22oxwFVJgOzCYKQ/Zqro929aMsBDZP85oGSlP16RMY7pNzPA
vksktWFjpj/49eT1xA40wPY7zzXHd6c/VrpAzRj1NMCk2i/4sHmoP6gV8Ocq
yTXAamJvmjB+qD8mK3s018w1wDDqrjywgqg/qjsNRYPQNcC8+S2Br4uoPxA7
7bHa1zXA1BgsCq6dqD+3ICy4huY1wARXKByrwag//hwRY9MDNsBk0yBApQmp
P0jo15Q+PjbAKltg4iQOqT8hOsI240E2wPDin4SkEqk/Z8ThmYdFNsB88h7J
oxupP4cJZaPPTDbAlBEdUqItqT/g/vrAXFs2wMRPGWSfUak/5VFKEmt4NsCK
11gGH1apPy00xrwLfDbAUF+YqJ5aqT+bRgcnrH82wNxuF+2dY6k/tVR8OuyG
NsD0jRV2nHWpP4J8qFpplTbAuhVVGBx6qT+KZ8QACJk2wICdlLqbfqk/Urrr
ZaacNsAMrRP/moepP/xZ/2ziozbA0jRToRqMqT+c/LwOgKc2wJi8kkOakKk/
d7Iobx2rNsBeRNLlGZWpP8gaK466rjbAJcwRiJmZqT8c0KxrV7I2wLxva60=

       "]]},
     Annotation[#, "Charting`Private`Tag$64650#1"]& ], {}}, {}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{None, None},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{
   "DefaultBoundaryStyle" -> Automatic, 
    "DefaultGraphicsInteraction" -> {
     "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
      "Effects" -> {
       "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
        "Droplines" -> {
         "freeformCursorMode" -> True, 
          "placement" -> {"x" -> "All", "y" -> "None"}}}}, "DefaultMeshStyle" -> 
    AbsolutePointSize[6], "ScalingFunctions" -> None, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{-0.05, 0.05}, {-22.696646432581574`, 22.696646432581574`}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.05], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.5667224550644894`*^9, 3.5668622259247065`*^9, 3.5733468966801376`*^9, 
   3.5733516423965383`*^9, 3.573351711203286*^9, 3.5733517860000114`*^9, 
   3.5733518311432285`*^9, {3.5733518845070653`*^9, 3.5733518963622293`*^9}, {
   3.5733519638742685`*^9, 3.57335197590102*^9}, 3.57335215174842*^9, 
   3.5733521912292356`*^9, 3.5733522869596853`*^9, {3.5733523304338193`*^9, 
   3.5733523509307737`*^9}, {3.573352383064508*^9, 3.573352409239462*^9}, {
   3.573352501038989*^9, 3.5733525355125575`*^9}, {3.5733531241508183`*^9, 
   3.5733531816762424`*^9}, 3.57335324134379*^9, 3.5733533159646215`*^9, {
   3.573353511133031*^9, 3.5733535661804905`*^9}, {3.5733535984851913`*^9, 
   3.5733536153940735`*^9}, 3.5733537015610795`*^9, {3.573353736377601*^9, 
   3.5733537504321203`*^9}, {3.5734516337665825`*^9, 3.573451850349295*^9}, {
   3.573463086059367*^9, 3.573463099187934*^9}, {3.573464965120312*^9, 
   3.5734650098451104`*^9}, {3.57346529295697*^9, 3.5734653004188843`*^9}, {
   3.5734668707149296`*^9, 3.5734669106808505`*^9}, {3.5734701110900755`*^9, 
   3.5734701278679256`*^9}, 3.8888804589647512`*^9, 3.8888805056671524`*^9, 
   3.888880537355908*^9, 3.8888805813294506`*^9},
 CellLabel->
  "Out[231]=",ExpressionUUID->"f61b3223-d134-4581-bb24-887efe4860a7"],

Cell[BoxData[
 RowBox[{"-", "4.759007522710684`"}]], "Output",
 CellChangeTimes->{
  3.5667224550644894`*^9, 3.5668622259247065`*^9, 3.5733468966801376`*^9, 
   3.5733516423965383`*^9, 3.573351711203286*^9, 3.5733517860000114`*^9, 
   3.5733518311432285`*^9, {3.5733518845070653`*^9, 3.5733518963622293`*^9}, {
   3.5733519638742685`*^9, 3.57335197590102*^9}, 3.57335215174842*^9, 
   3.5733521912292356`*^9, 3.5733522869596853`*^9, {3.5733523304338193`*^9, 
   3.5733523509307737`*^9}, {3.573352383064508*^9, 3.573352409239462*^9}, {
   3.573352501038989*^9, 3.5733525355125575`*^9}, {3.5733531241508183`*^9, 
   3.5733531816762424`*^9}, 3.57335324134379*^9, 3.5733533159646215`*^9, {
   3.573353511133031*^9, 3.5733535661804905`*^9}, {3.5733535984851913`*^9, 
   3.5733536153940735`*^9}, 3.5733537015610795`*^9, {3.573353736377601*^9, 
   3.5733537504321203`*^9}, {3.5734516337665825`*^9, 3.573451850349295*^9}, {
   3.573463086059367*^9, 3.573463099187934*^9}, {3.573464965120312*^9, 
   3.5734650098451104`*^9}, {3.57346529295697*^9, 3.5734653004188843`*^9}, {
   3.5734668707149296`*^9, 3.5734669106808505`*^9}, {3.5734701110900755`*^9, 
   3.5734701278679256`*^9}, 3.8888804589647512`*^9, 3.8888805056671524`*^9, 
   3.888880537355908*^9, 3.888880581423232*^9},
 CellLabel->
  "Out[232]=",ExpressionUUID->"c6cefeeb-23b5-423c-8372-57caa3168ba1"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["B-trap magnetic field", "Subsubsection",
 CellChangeTimes->{{3.566714506089125*^9, 3.566714525638343*^9}, 
   3.56671481495177*^9, {3.566721686927683*^9, 3.566721694758481*^9}, {
   3.566722210687422*^9, 3.5667222153359833`*^9}},
 FontSize->13,ExpressionUUID->"18f4dc3c-f091-4c60-a350-87ffe9d27526"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"IBtrap", " ", "=", " ", "400"}], " ", ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"the", " ", "B"}], "-", 
    RowBox[{"trap", " ", "current"}]}], " ", "*)"}], " "}]], "Input",
 CellChangeTimes->{
  3.5667222276593513`*^9, {3.566722537428265*^9, 3.5667225392377725`*^9}, {
   3.5733536209315767`*^9, 3.573353621415133*^9}},
 CellLabel->
  "In[233]:=",ExpressionUUID->"9b98dafe-49e0-4dfe-8aeb-069f70524391"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"BtrapCoil", " ", "=", 
    RowBox[{"Join", " ", "[", 
     RowBox[{
      RowBox[{"AntiHelmholtzCoilSet", "[", 
       RowBox[{
       "R0", ",", " ", "DR", ",", " ", "NR0", ",", " ", "Z0", ",", " ", "DZ", 
        ",", " ", "NZ0", ",", " ", "IBtrap"}], "]"}], ",", 
      RowBox[{"AntiHelmholtzCoilSet", "[", 
       RowBox[{
       "Ra", ",", " ", "DR", ",", " ", "NRa", ",", " ", "Za", ",", " ", "DZ", 
        ",", " ", "NZa", ",", " ", "IBtrap"}], "]"}]}], "]"}]}], ";"}], " ", 
  RowBox[{"(*", 
   RowBox[{"make", " ", "the", " ", "Btrap", " ", "coil"}], "*)"}]}]], "Input",
 CellChangeTimes->{
  3.566638283100415*^9, 3.5667099808546376`*^9, {3.56671126902483*^9, 
   3.5667112720645866`*^9}, {3.566711462442855*^9, 3.5667114662350516`*^9}, 
   3.566715519262189*^9, {3.5667155695261564`*^9, 3.5667155707235126`*^9}, {
   3.5667156348923907`*^9, 3.566715691752842*^9}, 3.566721227057664*^9, {
   3.5667212701706543`*^9, 3.5667212932418714`*^9}, {3.566721735551389*^9, 
   3.5667217520397434`*^9}, {3.5667222305764017`*^9, 
   3.5667222434457417`*^9}, {3.5733516110895452`*^9, 3.573351619980919*^9}, {
   3.57335316531394*^9, 3.5733531765445004`*^9}, {3.5733532135585546`*^9, 
   3.5733532195325885`*^9}, {3.573353263524146*^9, 3.5733532919904957`*^9}, {
   3.5733533431363378`*^9, 3.573353357096548*^9}, {3.573353455367036*^9, 
   3.573353476627928*^9}},
 FontSize->13,
 CellLabel->
  "In[234]:=",ExpressionUUID->"2e9c7ec9-aa9f-401b-a1ee-9d8b3abbf095"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"BtrapAxialField", " ", "[", "z_", "]"}], " ", ":=", " ", 
   RowBox[{"AxialField", " ", "[", 
    RowBox[{"0", ",", "z", ",", " ", "BtrapCoil"}], "]"}]}], " ", 
  RowBox[{"(*", 
   RowBox[{"B", "-", 
    RowBox[{
    "trap", " ", "magnetic", " ", "field", " ", "along", " ", "axial", " ", 
     "direction"}]}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{"BtrapRadialField", "[", "r_", "]"}], " ", ":=", " ", 
  RowBox[{"RadialField", " ", "[", 
   RowBox[{"r", ",", " ", "0", ",", " ", "BtrapCoil"}], "]"}], " ", 
  RowBox[{"(*", 
   RowBox[{"B", "-", 
    RowBox[{
    "trap", " ", "magnetic", " ", "field", " ", "along", " ", "radial", " ", 
     "direction"}]}], "*)"}]}]}], "Input",
 CellChangeTimes->{{3.5667217560643373`*^9, 3.5667217856404204`*^9}, {
   3.5667218772545223`*^9, 3.5667218984538345`*^9}, 3.566722154826687*^9, {
   3.5667224776989284`*^9, 3.566722505418707*^9}, {3.566722562761366*^9, 
   3.566722569718609*^9}},
 CellLabel->
  "In[235]:=",ExpressionUUID->"8e0926bd-3851-4c5c-be82-c32f894d009f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Plot", "[", 
   RowBox[{
    RowBox[{"BtrapAxialField", "[", "z", "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"z", ",", " ", 
      RowBox[{"-", "0.05"}], ",", " ", "0.05"}], "}"}]}], "]"}], " "}], "\n", 
 RowBox[{"BtrapAxialGrad", " ", "=", " ", 
  RowBox[{
   RowBox[{"ND", " ", "[", 
    RowBox[{
     RowBox[{"BtrapAxialField", "[", "z", "]"}], ",", "z", ",", "0"}], "]"}], 
   "/", "100", " ", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{"Gauss", "/", "cm"}], ",", " ", 
     RowBox[{
      RowBox[{
      "axial", " ", "magnetic", " ", "field", " ", "gradient", " ", "at", " ",
        "the", " ", "B"}], "-", 
      RowBox[{"trap", " ", "center"}]}]}], "*)"}]}]}]}], "Input",
 CellChangeTimes->{{3.5667157512090864`*^9, 3.5667158029559464`*^9}, {
   3.566716766158719*^9, 3.56671676988607*^9}, 3.5667218623416867`*^9, {
   3.566722054071454*^9, 3.5667220619334507`*^9}, 3.566722180331379*^9, {
   3.5667225098332806`*^9, 3.5667225246213217`*^9}, {3.5667225550085635`*^9, 
   3.5667225595323315`*^9}},
 CellLabel->
  "In[237]:=",ExpressionUUID->"b8674898-1dec-4636-b016-eb3e6e5df4ce"],

Cell[BoxData[
 GraphicsBox[{{{}, {}, 
    TagBox[
     {RGBColor[0.368417, 0.506779, 0.709798], AbsoluteThickness[1.6], Opacity[
      1.], LineBox[CompressedData["
1:eJwB4QQe+yFib1JlAgAAAE0AAAACAAAAJcwRiJmZqb+sEVF6FJ6iwFqU6WyU
lam/qSJMiy+bosCOXMFRj5Gpv0YwF4hKmKLA9uxwG4WJqb9YGVxFgJKiwMYN
0K5weam/tu9X0OqGosBmT47VR1mpv9mAvTW8b6LAqNIKI/YYqb/fVmWqUEGi
wCzZA75SmKi/bAiyi0PkocB33W/uZ4Gnv1jP3feoGaHASzMm3fh8pr9V6xWA
oVugwJG8Np6lfaW/qI1uNXZBn8AaPcFZrmikvy6l3hkKq53ALg+W0zJmo7+4
cPOcMC+cwITY5EcTTqK/fBBmHESTmsBM1Y2ODzuhv8Q4mczc/pjAniOBk4c6
oL/e433u24WXwGXS3CW3SJ6//rf773vtlcCiAEyhVkGcvwZ3l2TKcJTAw5Vv
wS1Emr8GfccmM/ySwGkZh9a8G5i/dZKxXrRokcAjQDNoQxiWvzaJRq/04Y/A
YlXT7oHpk79kJALrIbWMwIbRJxr4xJG/bBCFvOmYicB74SGEy4qPvzu9yavb
s4bA9PzbvRY1i78EAE6Xp5GDwJVev/BQKYe/eFh8xTqmgMBBnYoN+8aCvx37
V0A++3rAa1N95yjyfL8GdxlMqsl0wKT4N6Y56nS/AjeaZxEIbsDir4RxVGpo
v3aL9iRqhmHAOA599uJPUL+02tvYNGpHwB2qkVXRIk8/OuGiLshYRkAC6Gd+
mhNpPyINMhvy/2FAbiZjYWKbdD+nyTfuyZZtQMeewq8XWn0/qV9OWWYUdUDI
Pag19/eCPy4J2fjGQXtABOZFmvP4hj/mqKSzW4OAQDax+xSAUIs/2TlesnOl
g0BANoiWHV6PP1aaoXOHk4ZAwPZV56WrkT9kE2QcM3SJQNvjcw6F05M/zNYt
AC+VjEDiLf24bNaVP9YBgygWgo9AZImSbpwEmD8W9TDh1FeRQNJBk6fUDZo/
BGDQ3nfUkkBck9871QycP+BIv79WSpRAYfY32x03nj+ULWRAk+CVQCnb/X43
HqA/Lz60RUVcl0Dfw+UVhDahPyX091Eu+JhAI3lz2rRJoj+yR89J14yaQN3c
tuBpSqM/lkZ+7lYGnEBVSYDswmCkP0rtalRon51AQ2T/OaBkpT/R+rm1xxyf
QL5LJLVhY6Y/mCD+EOxIoED2O881x3enP0AfsfClEqFApNov+LB5qD+Oe5sq
Ec6hQGpib5owfqg/bOqH51PRoUAw6q48sIKoPx5RSZCW1KFAvPktga+LqD9Y
fvqkG9uhQNQYLAqunag/N+Tg2CTooUAEVygcq8GoPzMX+FgzAqJAZNMgQKUJ
qT/HmX8qQDaiQCpbYOIkDqk/8MVyOoA5okDw4p+EpBKpP6t8pzPAPKJAfPIe
yaMbqT/HBoHhP0OiQJQRHVKiLak/7TqjKD5QokDETxlkn1GpP+p4/1E2aqJA
itdYBh9WqT+AfRPsdG2iQFBfmKieWqk/hGYTbrNwokDcbhftnWOpP1ZmgCkw
d6JA9I0Vdpx1qT+E5K97KISiQLoVVRgceqk/bAvEUmaHokCAnZS6m36pP5FJ
FhGkiqJADK0T/5qHqT9Wjh1DH5GiQNI0U6EajKk/jMKmtlyUokCYvJJDmpCp
PyppFhGal6JAXkTS5RmVqT8uhVZS15qiQCXMEYiZmak/rhFRehSeokDtr2cs

       "]]},
     Annotation[#, "Charting`Private`Tag$64782#1"]& ]}, {}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{None, None},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{
   "DefaultBoundaryStyle" -> Automatic, 
    "DefaultGraphicsInteraction" -> {
     "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
      "Effects" -> {
       "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
        "Droplines" -> {
         "freeformCursorMode" -> True, 
          "placement" -> {"x" -> "All", "y" -> "None"}}}}, "DefaultMeshStyle" -> 
    AbsolutePointSize[6], "ScalingFunctions" -> None, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{-0.05, 0.05}, {-2383.039995702178, 2383.039995702179}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.05], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.56672246830821*^9, {3.5667225305178194`*^9, 3.566722542513604*^9}, 
   3.566722576114281*^9, 3.566862226189928*^9, 3.573346896960918*^9, 
   3.573351642458934*^9, 3.573351963936664*^9, 3.5733531819726048`*^9, {
   3.5733532225274043`*^9, 3.573353241608956*^9}, {3.573353294829332*^9, 
   3.5733533161985917`*^9}, {3.5733535113826084`*^9, 3.5733535664456663`*^9}, 
   3.573353624597247*^9, 3.5733537017950616`*^9, {3.573353736627182*^9, 
   3.5733537506817007`*^9}, 3.5734516340078955`*^9, 3.5734630862888026`*^9, 
   3.888880460591915*^9, {3.8888805179867992`*^9, 3.888880539169202*^9}, 
   3.8888805830034833`*^9},
 CellLabel->
  "Out[237]=",ExpressionUUID->"bab7775c-dfd9-419e-a61a-c06d4590c5f1"],

Cell[BoxData["480.72874482024355`"], "Output",
 CellChangeTimes->{
  3.56672246830821*^9, {3.5667225305178194`*^9, 3.566722542513604*^9}, 
   3.566722576114281*^9, 3.566862226189928*^9, 3.573346896960918*^9, 
   3.573351642458934*^9, 3.573351963936664*^9, 3.5733531819726048`*^9, {
   3.5733532225274043`*^9, 3.573353241608956*^9}, {3.573353294829332*^9, 
   3.5733533161985917`*^9}, {3.5733535113826084`*^9, 3.5733535664456663`*^9}, 
   3.573353624597247*^9, 3.5733537017950616`*^9, {3.573353736627182*^9, 
   3.5733537506817007`*^9}, 3.5734516340078955`*^9, 3.5734630862888026`*^9, 
   3.888880460591915*^9, {3.8888805179867992`*^9, 3.888880539169202*^9}, 
   3.888880583066003*^9},
 CellLabel->
  "Out[238]=",ExpressionUUID->"77236a8b-16b9-4efb-899e-fa8a79112f1a"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["Pi"], "Input",
 CellChangeTimes->{{3.890119723375618*^9, 
  3.8901197281944513`*^9}},ExpressionUUID->"624144f3-9173-4573-b1fd-\
615d6a3baa6a"],

Cell[BoxData["pi"], "Output",
 CellChangeTimes->{3.890119724590444*^9},
 CellLabel->"Out[2]=",ExpressionUUID->"efce2f9d-e659-4e1f-a8ea-3d9819d73f58"]
}, Open  ]],

Cell["Resistance", "Subtitle",
 CellChangeTimes->{{3.890119633498501*^9, 3.8901196477314987`*^9}, {
  3.890119695001536*^9, 
  3.890119696252926*^9}},ExpressionUUID->"e1eb0a21-f654-45b9-8d29-\
6e346be77c52"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"R0", "=", 
     RowBox[{
      RowBox[{"0.0909", "/", "2"}], "+", 
      RowBox[{"0.002", "/", "2"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"rho", "=", "0.0175"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"L", "=", 
     RowBox[{"2", "*", "Pi", "*", "R0"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"S", "=", 
     RowBox[{"Pi", "*", 
      RowBox[{"R0", "^", "2"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"R", "=", 
    FractionBox[
     RowBox[{"rho", "*", "L"}], "S"]}]}]}]], "Input",
 CellChangeTimes->{{3.890119657336834*^9, 3.890119834700111*^9}, {
  3.890119919320026*^9, 3.890119948652239*^9}},
 CellLabel->"In[9]:=",ExpressionUUID->"cc6ee921-d52a-479e-b565-08c80d0cbff3"],

Cell[BoxData["0.7534983853606028`"], "Output",
 CellChangeTimes->{3.8901199518352957`*^9},
 CellLabel->"Out[13]=",ExpressionUUID->"28dfb8df-22fa-4692-bb1e-2eaa921dfb7c"]
}, Open  ]]
},
CellGrouping->Manual,
WindowSize->{951., 499.75},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
Magnification->1,
FrontEndVersion->"12.1 for Mac OS X x86 (64-bit) (2020\:5e743\:670813\:65e5)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"62301392-c404-443a-91ac-5d057b7f6225"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 230, 4, 98, "Title",ExpressionUUID->"6ff8707e-cc0b-46a7-8670-e8fc8fab5d1d"],
Cell[812, 28, 219, 3, 33, "Text",ExpressionUUID->"fdd49ba1-1128-4851-9bf8-2765e94ec0b1"],
Cell[1034, 33, 1415, 23, 152, "Text",ExpressionUUID->"e9b998d8-2184-4ed2-b15f-f672fb1a6f57"],
Cell[2452, 58, 2399, 36, 232, "Text",ExpressionUUID->"034a20bf-d02e-446d-8111-c96da3dff210"],
Cell[CellGroupData[{
Cell[4876, 98, 171, 2, 37, "Subsubsection",ExpressionUUID->"fa14a400-6ed8-44a1-b9a1-88b225c750b1"],
Cell[5050, 102, 374, 6, 60, "Input",ExpressionUUID->"92963443-f436-4d44-8c71-1fcfd746f8c7"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5461, 113, 235, 4, 49, "Subsection",ExpressionUUID->"64893b88-57f6-4a98-b314-4b23c20d7589"],
Cell[CellGroupData[{
Cell[5721, 121, 182, 2, 37, "Subsubsection",ExpressionUUID->"d8f384d8-5ce1-442c-9beb-449b16c5aa44"],
Cell[5906, 125, 822, 22, 30, "Input",ExpressionUUID->"31ebf308-62be-4e1a-bbf8-5d225888bcbc"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6765, 152, 116, 1, 37, "Subsubsection",ExpressionUUID->"411e3c03-ed1b-4ad6-ad55-4d4635686e89"],
Cell[6884, 155, 207, 4, 32, "Text",ExpressionUUID->"5bfa52bb-736f-4210-b1ae-1a419b8b8dc9"],
Cell[7094, 161, 2993, 91, 180, "Input",ExpressionUUID->"c1b9d4c7-5340-46fd-94a1-4feece6e520a"],
Cell[10090, 254, 3081, 94, 180, "Input",ExpressionUUID->"f6bcd6b8-4e5d-472f-b647-9c81a1c91cb9"],
Cell[13174, 350, 236, 4, 32, "Text",ExpressionUUID->"e55d2e1d-7eca-436a-b79a-2c94f329a67f"],
Cell[13413, 356, 709, 20, 80, "Input",ExpressionUUID->"5038393b-9cb5-4bae-bb39-44d5b253b1dc"],
Cell[14125, 378, 708, 20, 80, "Input",ExpressionUUID->"b52397fb-69fc-42f1-9846-8869eba42cdb"],
Cell[14836, 400, 183, 4, 32, "Text",ExpressionUUID->"2eea6120-49c1-4c44-bbf6-69c6a39f9d18"],
Cell[15022, 406, 733, 21, 73, "Input",ExpressionUUID->"e59c852b-1123-4867-a0ed-8d05bb8d1cbb"]
}, Open  ]],
Cell[CellGroupData[{
Cell[15792, 432, 294, 4, 37, "Subsubsection",ExpressionUUID->"2e767c9e-6185-4f93-ab8b-3d3e541ebc86"],
Cell[16089, 438, 4014, 113, 286, "Input",ExpressionUUID->"ff743039-db2b-4d4a-9598-fb65b59a00a5"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[20152, 557, 169, 3, 49, "Subsection",ExpressionUUID->"e29c1394-f5e4-4690-a41e-3387fc09fb3b"],
Cell[CellGroupData[{
Cell[20346, 564, 118, 1, 37, "Subsubsection",ExpressionUUID->"f0dfb252-374d-4ef3-99b7-c167ca47d66c"],
Cell[20467, 567, 867, 13, 72, "Text",ExpressionUUID->"5e0c114a-113a-4b33-932d-203bf46b179e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[21371, 585, 119, 1, 37, "Subsubsection",ExpressionUUID->"205208ea-e431-45c1-8680-ae3542dcd035"],
Cell[21493, 588, 606, 10, 72, "Text",ExpressionUUID->"6586ab84-278a-419a-bf05-deef2b99d073"],
Cell[22102, 600, 510, 12, 30, "Input",ExpressionUUID->"05aa26ee-cdba-4829-b9ed-7f15d381f052"],
Cell[22615, 614, 477, 8, 72, "Text",ExpressionUUID->"30d74cb7-451b-47d3-847c-c116f2d98f7c"],
Cell[CellGroupData[{
Cell[23117, 626, 531, 13, 44, "Input",ExpressionUUID->"a1746f3a-5dba-4d1d-9f87-1b14a768e1ff"],
Cell[23651, 641, 7227, 137, 241, "Output",ExpressionUUID->"6e9bc6e9-5058-4cd7-9c26-f6553ef236b1"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[30927, 784, 117, 1, 37, "Subsubsection",ExpressionUUID->"ec496cf9-1d2e-4a37-b7f6-80e2814039c7"],
Cell[31047, 787, 710, 14, 172, "Text",ExpressionUUID->"452eaaaa-78b2-439c-ba2f-6f4afc831f2b"],
Cell[CellGroupData[{
Cell[31782, 805, 713, 18, 65, "Input",ExpressionUUID->"291d2d6e-73d1-4e4f-9376-3b4ae8a20cae"],
Cell[32498, 825, 3724, 81, 237, "Output",ExpressionUUID->"78de7800-ef9c-4431-82c5-274f1953cf37"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[36271, 912, 111, 1, 37, "Subsubsection",ExpressionUUID->"26b00dc0-848c-4c3f-a7c4-3e28b2fded15"],
Cell[36385, 915, 1322, 29, 232, "Text",ExpressionUUID->"8dec9695-851a-47f4-b7ad-68b59c15e9df"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[37756, 950, 253, 4, 49, "Subsection",ExpressionUUID->"b303de68-bc05-4fdf-b4e3-d01431674c7d"],
Cell[CellGroupData[{
Cell[38034, 958, 205, 3, 37, "Subsubsection",ExpressionUUID->"52fe8890-5006-47a5-b7ac-4547648715d6"],
Cell[38242, 963, 5538, 115, 325, "Input",ExpressionUUID->"201d2ec6-9a81-4f2f-ba65-571ec47aa1b3"]
}, Open  ]],
Cell[CellGroupData[{
Cell[43817, 1083, 250, 3, 37, "Subsubsection",ExpressionUUID->"58af5ab2-3e84-476a-9d0b-4fdd22026047"],
Cell[44070, 1088, 699, 12, 30, "Input",ExpressionUUID->"353876f6-5215-4115-9a2c-6987e4472cbc"],
Cell[44772, 1102, 1752, 33, 88, "Input",ExpressionUUID->"db7cc393-096d-41d5-b843-278bde0417a5"],
Cell[46527, 1137, 894, 21, 52, "Input",ExpressionUUID->"a44eae4c-a071-4904-a23f-1148cf88c706"],
Cell[CellGroupData[{
Cell[47446, 1162, 976, 24, 88, "Input",ExpressionUUID->"50c2dbc7-42e3-4dc8-bae2-c3bf3116af94"],
Cell[48425, 1188, 4632, 93, 240, "Output",ExpressionUUID->"7aca374a-9897-402b-b0e3-7e7dd43947fd"],
Cell[53060, 1283, 1325, 19, 34, "Output",ExpressionUUID->"90ca2ab0-85c0-4f27-9cef-37df1ee416e8"]
}, Open  ]],
Cell[CellGroupData[{
Cell[54422, 1307, 992, 24, 88, "Input",ExpressionUUID->"f0837788-741a-4a48-8984-6150ec7c34af"],
Cell[55417, 1333, 4749, 96, 240, "Output",ExpressionUUID->"f61b3223-d134-4581-bb24-887efe4860a7"],
Cell[60169, 1431, 1350, 20, 34, "Output",ExpressionUUID->"c6cefeeb-23b5-423c-8372-57caa3168ba1"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[61568, 1457, 305, 4, 37, "Subsubsection",ExpressionUUID->"18f4dc3c-f091-4c60-a350-87ffe9d27526"],
Cell[61876, 1463, 468, 12, 30, "Input",ExpressionUUID->"9b98dafe-49e0-4dfe-8aeb-069f70524391"],
Cell[62347, 1477, 1506, 30, 88, "Input",ExpressionUUID->"2e9c7ec9-aa9f-401b-a1ee-9d8b3abbf095"],
Cell[63856, 1509, 1060, 25, 52, "Input",ExpressionUUID->"8e0926bd-3851-4c5c-be82-c32f894d009f"],
Cell[CellGroupData[{
Cell[64941, 1538, 1137, 28, 88, "Input",ExpressionUUID->"b8674898-1dec-4636-b016-eb3e6e5df4ce"],
Cell[66081, 1568, 4073, 86, 240, "Output",ExpressionUUID->"bab7775c-dfd9-419e-a61a-c06d4590c5f1"],
Cell[70157, 1656, 767, 12, 34, "Output",ExpressionUUID->"77236a8b-16b9-4efb-899e-fa8a79112f1a"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[70997, 1676, 156, 3, 44, "Input",ExpressionUUID->"624144f3-9173-4573-b1fd-615d6a3baa6a"],
Cell[71156, 1681, 149, 2, 34, "Output",ExpressionUUID->"efce2f9d-e659-4e1f-a8ea-3d9819d73f58"]
}, Open  ]],
Cell[71320, 1686, 207, 4, 53, "Subtitle",ExpressionUUID->"e1eb0a21-f654-45b9-8d29-6e346be77c52"],
Cell[CellGroupData[{
Cell[71552, 1694, 821, 22, 184, "Input",ExpressionUUID->"cc6ee921-d52a-479e-b565-08c80d0cbff3"],
Cell[72376, 1718, 169, 2, 57, "Output",ExpressionUUID->"28dfb8df-22fa-4692-bb1e-2eaa921dfb7c"]
}, Open  ]]
}
]
*)

